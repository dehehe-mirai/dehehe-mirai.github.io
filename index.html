<html>
<head>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' https://newbiepr.github.io/"></meta>
  <script>
    function fetch(textarea) {
      fetch("https://newbiepr.github.io/shinymaskr/ShinyColors.user.js").then((response)=>{
        document.querySelector("#loading").remove();
        var text = preloadedText();
        console.log(response.text());
        //text += response.text();
        textarea.innerText = text;
        textarea.select();
        textarea.setSelectionRange(0, 99999); /*For mobile devices*/

        /* Copy the text inside the text field */
        document.execCommand("copy");
        alert("copy 완료");
      });
    }
    function load() {
      console.log("load called");
      var textarea = document.querySelector("#textarea");
      fetch(textarea);
    }
    function preloadedText() {
      return "test";
    }
    window.onload = load;
  </script>
</head>
<body onload>
  <h1>한패 스크립트</h1>
  <span id="loading">로드중...</span>
  <textarea id="textarea">
  </textarea>
</body>
</html
